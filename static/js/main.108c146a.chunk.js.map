{"version":3,"sources":["img/person-icon.png","img/restaurant-icon.png","Components/AddNewModal.js","Components/FilterRatings.js","Components/AddReview.js","Components/RestaurantList.js","App.js","mapStyles.js","index.js"],"names":["module","exports","AddNewModal","props","state","name","rating","address","visible","handleChange","bind","submitForm","e","this","setState","target","value","preventDefault","newRestaurantObj","parseFloat","vicinity","geometry","location","lat","newPlaceLat","lng","newPlaceLng","onAddRestaurant","width","height","effect","onClickAway","closeModal","onSubmit","type","placeholder","onChange","className","Component","FilterRatings","firstRating","setFirstRating","secondRating","setSecondRating","AddReview","userReview","setInfoWindowName","console","log","setQuery","style","padding","borderRadius","RestaurantList","nearbyRestaurants","map","place","key","uuidv4","fontSize","fontWeight","color","starDimension","starSpacing","starRatedColor","numberOfStars","fontStyle","API_KEY","process","libraries","mapContainerStyle","options","styles","featureType","elementType","stylers","visibility","lightness","hue","saturation","disableDefaultUI","zoomControl","placesSearchApiEndpoint","App","useLoadScript","googleMapsApiKey","isLoaded","loadError","useState","center","setCenter","showAddModal","setShowAddModal","newPosition","setNewPosition","setBounds","setMap","setNearbyRestaurants","selectedRestaurants","setSelectedRestaurants","query","infoWindowName","reviewsArray","closeAddModal","fetchRestaurants","radius","a","apiPlaceSearchUrl","fetch","response","json","data","filteredRatings","results","filter","current","useEffect","restaurantsByRating","navigator","geolocation","getCurrentPosition","position","prevState","coords","latitude","longitude","onClick","latLng","zoom","onLoad","bounds","getBounds","getCenter","onDragEnd","icon","url","personIcon","scaledSize","window","google","maps","Size","res","restaurantIcon","onCloseClick","src","alt","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.108c146a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/person-icon.9a6884b3.png\";","module.exports = __webpack_public_path__ + \"static/media/restaurant-icon.e43fad9f.png\";","import React, { Component } from \"react\";\r\nimport Modal from \"react-awesome-modal\";\r\n\r\nclass AddNewModal extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: \"\",\r\n      rating: 0,\r\n      address: \"\",\r\n      visible: false\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.submitForm = this.submitForm.bind(this);\r\n  }\r\n\r\n  handleChange(e) {\r\n    this.setState({\r\n      [e.target.name]: e.target.value\r\n    });\r\n  }\r\n\r\n  submitForm(e) {\r\n    e.preventDefault();\r\n\r\n    let newRestaurantObj = {\r\n      name: this.state.name,\r\n      rating: parseFloat(this.state.rating),\r\n      vicinity: this.state.address,\r\n      geometry: {\r\n        location: {\r\n          lat: this.props.newPlaceLat,\r\n          lng: this.props.newPlaceLng\r\n        }\r\n      }\r\n    };\r\n    return this.props.onAddRestaurant(newRestaurantObj)\r\n  }\r\n  render() {\r\n    return (\r\n      <Modal\r\n        visible={this.props.visible}\r\n        width=\"400\"\r\n        height=\"300\"\r\n        effect=\"fadeInLeft\"\r\n        onClickAway={() => this.props.closeModal()}\r\n      >\r\n        <div>\r\n          <h3>Add/Edit Restaurant</h3>\r\n          <form onSubmit={this.submitForm}>\r\n            <div>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Name...\"\r\n                name=\"name\"\r\n                value={this.state.name}\r\n                onChange={this.handleChange}\r\n              />\r\n            </div>\r\n            <div>\r\n              <label>Rating:</label>\r\n              <select\r\n                name=\"rating\"\r\n                value={this.state.rating}\r\n                onChange={this.handleChange}\r\n              >\r\n                <option value=\"0\">0</option>\r\n                <option value=\"1\">1</option>\r\n                <option value=\"2\">2</option>\r\n                <option value=\"3\">3</option>\r\n                <option value=\"4\">4</option>\r\n                <option value=\"5\">5</option>\r\n              </select>\r\n            </div>\r\n            <div>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Address...\"\r\n                name=\"address\"\r\n                value={this.state.address}\r\n                onChange={this.handleChange}\r\n              />\r\n            </div>\r\n            <button type=\"submit\" className=\"submit-button\">\r\n              submit\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\nexport default AddNewModal;\r\n\r\n\r\n\r\n\r\n","import React from \"react\";\r\n\r\nfunction FilterRatings({\r\n  firstRating,\r\n  setFirstRating,\r\n  secondRating,\r\n  setSecondRating\r\n}) {\r\n  function changeFirstRating(e) {\r\n    setFirstRating(e.target.value);\r\n  }\r\n\r\n  function changeSecondRating(e) {\r\n    setSecondRating(e.target.value);\r\n  }\r\n\r\n  return (\r\n    <div className=\"filter-ratings\">\r\n      <form>\r\n        <label>Choose by Rating:</label>\r\n        <select\r\n          className=\"rating-one\"\r\n          onChange={changeFirstRating}\r\n          value={firstRating}\r\n        >\r\n          <option value=\"0\">0</option>\r\n          <option value=\"1\">1</option>\r\n          <option value=\"2\">2</option>\r\n          <option value=\"3\">3</option>\r\n          <option value=\"4\">4</option>\r\n          <option value=\"5\">5</option>\r\n        </select>\r\n        to\r\n        <select\r\n          className=\"rating-two\"\r\n          onChange={changeSecondRating}\r\n          value={secondRating}\r\n        >\r\n          <option value=\"0\">0</option>\r\n          <option value=\"1\">1</option>\r\n          <option value=\"2\">2</option>\r\n          <option value=\"3\">3</option>\r\n          <option value=\"4\">4</option>\r\n          <option value=\"5\">5</option>\r\n        </select>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FilterRatings;\r\n","import React, { Component } from \"react\";\r\n\r\nclass AddReview extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      userReview: \"\"\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.submitForm = this.submitForm.bind(this);\r\n  }\r\n\r\n  handleChange(e) {\r\n    this.setState({\r\n      userReview: e.target.value,\r\n      [e.target.name]: e.target.value\r\n    });\r\n    this.props.setInfoWindowName(e.target.name);\r\n\r\n    console.log(e.target.name);\r\n    console.log(e.target.value);\r\n  }\r\n\r\n  submitForm(e) {\r\n    e.preventDefault();\r\n    this.setState({\r\n      userReview: \"\"\r\n    });\r\n    this.props.setQuery(this.state.userReview);\r\n    console.log(\"submitted\");\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <form onSubmit={this.submitForm}>\r\n          <textarea\r\n            style={{ padding: \"1rem\", borderRadius: \"3px\" }}\r\n            value={this.state.userReview}\r\n            name={this.props.name}\r\n            placeholder=\"Add a Review...\"\r\n            onChange={this.handleChange}\r\n          />\r\n          <button className=\"submit-button\" type=\"submit\">\r\n            submit\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddReview;\r\n","import React from \"react\";\r\nimport StarRatings from \"react-star-ratings\";\r\nimport AddReview from \"./AddReview\";\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nexport default function RestaurantList({\r\n  nearbyRestaurants,\r\n  setQuery,\r\n  setInfoWindowName\r\n}) {\r\n  return (\r\n    <div className=\"restaurant-list\">\r\n      <ul>\r\n        <li className=\"list-header\">Restaurants</li>\r\n        {nearbyRestaurants.map((place) => (\r\n          <div key={uuidv4()}>\r\n            <li>\r\n              <div style={{ fontSize: \"1.3rem\", fontWeight: \"bold\" }}>\r\n                {place.name}\r\n              </div>\r\n              <br />\r\n\r\n              <div style={{ color: \"gold\" }}>\r\n                {place.rating}\r\n                <span>\r\n                  <StarRatings\r\n                    rating={place.rating}\r\n                    starDimension=\"20px\"\r\n                    starSpacing=\"1px\"\r\n                    starRatedColor=\"gold\"\r\n                    numberOfStars={5}\r\n                    name=\"rating\"\r\n                  />\r\n                </span>\r\n              </div>\r\n              <br />\r\n              <div style={{ fontStyle: \"italic\" }}>{place.vicinity}</div>\r\n\r\n              <AddReview\r\n                key={place.name}\r\n                name={place.name}\r\n                setQuery={setQuery}\r\n                setInfoWindowName={setInfoWindowName}\r\n              />\r\n            </li>\r\n          </div>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"./styles.css\";\r\nimport {\r\n  GoogleMap,\r\n  useLoadScript,\r\n  Marker,\r\n  InfoWindow,\r\n} from \"@react-google-maps/api\";\r\nimport AddNewModal from \"./Components/AddNewModal\";\r\nimport mapStyles from \"./mapStyles\";\r\nimport StarRatings from \"react-star-ratings\";\r\nimport FilterRatings from \"./Components/FilterRatings\";\r\nimport RestaurantList from \"./Components/RestaurantList\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport personIcon from \"./img/person-icon.png\";\r\nimport restaurantIcon from \"./img/restaurant-icon.png\";\r\n\r\n// GLOBAL VARIABLES\r\nconst API_KEY = process.env.REACT_APP_GOOGLE_API_KEY;\r\n\r\nconst libraries = [\"places\"];\r\n\r\nconst mapContainerStyle = {\r\n  height: \"100vh\",\r\n  width: \"100vw\",\r\n};\r\n\r\nconst options = {\r\n  styles: mapStyles,\r\n  disableDefaultUI: true,\r\n  zoomControl: true,\r\n};\r\n\r\nconst placesSearchApiEndpoint =\r\n  \"https://maps.googleapis.com/maps/api/place/nearbysearch/json?type=restaurant&keyword=restaurant&key=\" +\r\n  API_KEY;\r\n// APP COMPONENT\r\nexport default function App() {\r\n  const { isLoaded, loadError } = useLoadScript({\r\n    googleMapsApiKey: API_KEY,\r\n    libraries,\r\n  });\r\n\r\n  const [center, setCenter] = useState({ lat: 0, lng: 0 });\r\n\r\n  const [showAddModal, setShowAddModal] = useState(false);\r\n  const [newPosition, setNewPosition] = useState(null);\r\n\r\n  const [bounds, setBounds] = useState({});\r\n  const [map, setMap] = useState(null);\r\n\r\n  const radius = 3047;\r\n\r\n  const [nearbyRestaurants, setNearbyRestaurants] = useState([]);\r\n  const [selectedRestaurants, setSelectedRestaurants] = useState(null);\r\n\r\n  const [firstRating, setFirstRating] = useState(0);\r\n  const [secondRating, setSecondRating] = useState(5);\r\n\r\n  const [query, setQuery] = useState(\"\");\r\n  const [infoWindowName, setInfoWindowName] = useState(\"\");\r\n\r\n  const reviewsArray = [\r\n    `\"Food/service was great!\"`,\r\n    `\"This place was pretty good\"`,\r\n    `\"We had an okay experience\"`,\r\n    `\"Did not have a great experience\"`,\r\n  ];\r\n\r\n  // SET NEW PLACES/MARKERS ON MAPCLICK\r\n  const onMapClick = (e) => {\r\n    setNewPosition({\r\n      lat: e.latLng.lat(),\r\n      lng: e.latLng.lng(),\r\n    });\r\n    setShowAddModal(true);\r\n  };\r\n\r\n  // ONMAP LOAD GET MAPBOUNDS And Fetch Restaurants\r\n  const onLoad = (map) => {\r\n    let bounds = map.getBounds();\r\n    const center = map.getCenter();\r\n    setMap(map);\r\n    setBounds(bounds);\r\n    fetchRestaurants(center.lat(), center.lng(), radius);\r\n  };\r\n\r\n  const closeAddModal = () => {\r\n    setShowAddModal(false);\r\n    setNewPosition(null);\r\n  };\r\n\r\n// ON DRAGEND FETCH NEW RESTAURANTS WITHIN THE BOUNDS\r\nconst handleMapDrag = () => {\r\n  const bounds = map.getBounds();\r\n  const center = map.getCenter();\r\n  fetchRestaurants(center.lat(), center.lng(), radius)\r\n\r\n}\r\n\r\n  //  FETCH NEARBY RESTAURANTS DATA FUNCTION\r\n  async function fetchRestaurants(lat, lng, radius) {\r\n    const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\r\n    let apiPlaceSearchUrl =\r\n      placesSearchApiEndpoint +\r\n      \"&location=\" +\r\n      lat +\r\n      \",\" +\r\n      lng +\r\n      \"&radius=\" +\r\n      radius;\r\n    const response = await fetch(proxyurl + apiPlaceSearchUrl);\r\n    const data = await response.json();\r\n\r\n    const filteredRatings =\r\n      data.results &&\r\n      data.results.filter((place) =>\r\n        place.rating >= firstRating && place.rating <= secondRating\r\n          ? place\r\n          : null\r\n      );\r\n\r\n    setNearbyRestaurants((current) => [...current, ...filteredRatings]);\r\n  }\r\n\r\n  //UseEffect Function to fetch the restaurants when the ratings immediately change\r\n  useEffect(() => {\r\n    async function restaurantsByRating(lat, lng, radius) {\r\n      const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\r\n      let apiPlaceSearchUrl =\r\n        placesSearchApiEndpoint +\r\n        \"&location=\" +\r\n        lat +\r\n        \",\" +\r\n        lng +\r\n        \"&radius=\" +\r\n        radius;\r\n      const response = await fetch(proxyurl + apiPlaceSearchUrl);\r\n      const data = await response.json();\r\n\r\n      const filteredRatings =\r\n        data.results &&\r\n        data.results.filter((place) =>\r\n          place.rating >= firstRating && place.rating <= secondRating\r\n            ? place\r\n            : null\r\n        );\r\n      setNearbyRestaurants(filteredRatings);\r\n    }\r\n    restaurantsByRating(center.lat, center.lng, radius);\r\n  }, [firstRating, secondRating]);\r\n\r\n  // SHOW USER'S GEO-LOCATION\r\n  function showCurrentLocation() {\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition((position) => {\r\n        setCenter((prevState) => ({\r\n          ...prevState,\r\n          lat: position.coords.latitude,\r\n          lng: position.coords.longitude,\r\n        }));\r\n      });\r\n    } else {\r\n      console.log(\"error loading map\");\r\n    }\r\n  }\r\n  showCurrentLocation();\r\n\r\n  if (loadError) return \"Error loading map\";\r\n  if (!isLoaded) return \"Loading...\";\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <h1>Restaurant Review</h1>\r\n      <GoogleMap\r\n        mapContainerStyle={mapContainerStyle}\r\n        center={center}\r\n        options={options}\r\n        onClick={onMapClick}\r\n        zoom={13}\r\n        onLoad={onLoad}\r\n        onDragEnd={handleMapDrag}\r\n      >\r\n        {/* PERSON-USER ICON */}\r\n        <Marker\r\n          position={{\r\n            lat: center.lat,\r\n            lng: center.lng,\r\n          }}\r\n          icon={{\r\n            url: personIcon,\r\n            scaledSize: new window.google.maps.Size(30, 30),\r\n          }}\r\n        />\r\n\r\n        {/* NEW RESTARUANTS MARKERS AND INFOWINDOW */}\r\n        {newPosition && (\r\n          <AddNewModal\r\n            visible={showAddModal}\r\n            newPlaceLat={newPosition.lat}\r\n            newPlaceLng={newPosition.lng}\r\n            onAddRestaurant={(res) => {\r\n              setNearbyRestaurants([res, ...nearbyRestaurants]);\r\n\r\n              // console.log(nearbyRestaurants);\r\n              closeAddModal();\r\n            }}\r\n            closeModal={() => {\r\n              closeAddModal();\r\n            }}\r\n          />\r\n        )}\r\n\r\n        {/* NEARBY RESTAURANT MARKERS and INFOWINDOWS */}\r\n        {nearbyRestaurants.map((place) => (\r\n          <Marker\r\n            key={uuidv4()}\r\n            position={{\r\n              lat: place.geometry.location.lat,\r\n              lng: place.geometry.location.lng,\r\n            }}\r\n            onClick={() => {\r\n              setSelectedRestaurants(place);\r\n            }}\r\n            icon={{\r\n              url: restaurantIcon,\r\n              scaledSize: new window.google.maps.Size(40, 40),\r\n            }}\r\n          />\r\n        ))}\r\n\r\n        {/* NEARBY RESTAURANT INFOWINDOWS */}\r\n        {selectedRestaurants ? (\r\n          <InfoWindow\r\n            position={{\r\n              lat: selectedRestaurants.geometry.location.lat,\r\n              lng: selectedRestaurants.geometry.location.lng,\r\n            }}\r\n            onCloseClick={() => {\r\n              setSelectedRestaurants(null);\r\n            }}\r\n          >\r\n            <div>\r\n              <h4>{selectedRestaurants.name}</h4>\r\n              <img\r\n                src={`https://maps.googleapis.com/maps/api/streetview?size=160x80&location=${selectedRestaurants.geometry.location.lat},${selectedRestaurants.geometry.location.lng}&fov=80&heading=70&pitch=0&key=${API_KEY}`}\r\n                alt=\"restaurant-street-view\"\r\n              />\r\n              <div style={{ color: \"gold\" }}>\r\n                {selectedRestaurants.rating}{\" \"}\r\n                <span>\r\n                  {\" \"}\r\n                  <StarRatings\r\n                    rating={selectedRestaurants.rating}\r\n                    starDimension=\"18px\"\r\n                    starSpacing=\"1px\"\r\n                    starRatedColor=\"gold\"\r\n                    numberOfStars={5}\r\n                  />\r\n                </span>\r\n              </div>\r\n              <div>\r\n                <div>\r\n                  {infoWindowName === selectedRestaurants.name\r\n                    ? `\"${query}\"`\r\n                    : null}\r\n                </div>\r\n\r\n                {selectedRestaurants.rating >= 4\r\n                  ? reviewsArray[0]\r\n                  : selectedRestaurants.rating >= 3.5\r\n                  ? reviewsArray[1]\r\n                  : selectedRestaurants.rating >= 3\r\n                  ? reviewsArray[2]\r\n                  : reviewsArray[3]}\r\n              </div>\r\n            </div>\r\n          </InfoWindow>\r\n        ) : null}\r\n\r\n        {/* FILTER RATINGS */}\r\n        <FilterRatings\r\n          firstRating={firstRating}\r\n          setFirstRating={setFirstRating}\r\n          secondRating={secondRating}\r\n          setSecondRating={setSecondRating}\r\n        />\r\n\r\n        {/* RESTAURANT LIST */}\r\n        <RestaurantList\r\n          key={uuidv4()}\r\n          nearbyRestaurants={nearbyRestaurants}\r\n          setQuery={setQuery}\r\n          setInfoWindowName={setInfoWindowName}\r\n        />\r\n      </GoogleMap>\r\n    </div>\r\n  );\r\n}\r\n","export default [\r\n    {\r\n      featureType: \"administrative\",\r\n      elementType: \"geometry\",\r\n      stylers: [\r\n        {\r\n          visibility: \"off\"\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      featureType: \"administrative\",\r\n      elementType: \"labels.text.fill\",\r\n      stylers: [\r\n        {\r\n          lightness: \"-45\"\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      featureType: \"administrative.land_parcel\",\r\n      elementType: \"labels\",\r\n      stylers: [\r\n        {\r\n          visibility: \"off\"\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      featureType: \"landscape\",\r\n      elementType: \"geometry.fill\",\r\n      stylers: [\r\n        {\r\n          visibility: \"on\"\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      featureType: \"poi\",\r\n      elementType: \"all\",\r\n      stylers: [\r\n        {\r\n          visibility: \"off\"\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      featureType: \"poi\",\r\n      elementType: \"labels.text\",\r\n      stylers: [\r\n        {\r\n          visibility: \"off\"\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      featureType: \"road\",\r\n      elementType: \"geometry.fill\",\r\n      stylers: [\r\n        {\r\n          color: \"##000000\"\r\n        },\r\n        {\r\n          visibility: \"on\"\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      featureType: \"road\",\r\n      elementType: \"geometry.stroke\",\r\n      stylers: [\r\n        {\r\n          color: \"#969696\"\r\n        },\r\n        {\r\n          visibility: \"off\"\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      featureType: \"road\",\r\n      elementType: \"labels.text\",\r\n      stylers: [\r\n        {\r\n          hue: \"#ff0000\"\r\n        },\r\n        {\r\n          saturation: \"32\"\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      featureType: \"road\",\r\n      elementType: \"labels.icon\",\r\n      stylers: [\r\n        {\r\n          visibility: \"off\"\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      featureType: \"road.highway\",\r\n      elementType: \"geometry.fill\",\r\n      stylers: [\r\n        {\r\n          saturation: \"47\"\r\n        },\r\n        {\r\n          color: \"#c7c7c7\"\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      featureType: \"road.local\",\r\n      elementType: \"labels\",\r\n      stylers: [\r\n        {\r\n          visibility: \"off\"\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      featureType: \"road.local\",\r\n      elementType: \"labels.text.fill\",\r\n      stylers: [\r\n        {\r\n          visibility: \"on\"\r\n        },\r\n        {\r\n          lightness: \"-62\"\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      featureType: \"transit\",\r\n      elementType: \"all\",\r\n      stylers: [\r\n        {\r\n          visibility: \"off\"\r\n        }\r\n      ]\r\n    }\r\n  ];\r\n  ","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}