(this["webpackJsonprestaurant-p7"]=this["webpackJsonprestaurant-p7"]||[]).push([[0],{21:function(e,t,a){e.exports=a.p+"static/media/person-icon.9a6884b3.png"},22:function(e,t,a){e.exports=a.p+"static/media/restaurant-icon.e43fad9f.png"},24:function(e,t,a){e.exports=a(41)},30:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(5),i=a.n(r),o=a(15),s=a(16),c=a(8),u=a.n(c),m=a(17),p=a(2),g=(a(30),a(6)),d=a(4),y=a(10),b=a(11),f=a(3),v=a(14),h=a(13),E=a(20),j=a.n(E),O=function(e){Object(v.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(y.a)(this,a),(n=t.call(this,e)).state={name:"",rating:0,address:"",visible:!1},n.handleChange=n.handleChange.bind(Object(f.a)(n)),n.submitForm=n.submitForm.bind(Object(f.a)(n)),n}return Object(b.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(d.a)({},e.target.name,e.target.value))}},{key:"submitForm",value:function(e){e.preventDefault();var t={name:this.state.name,rating:parseFloat(this.state.rating),vicinity:this.state.address,geometry:{location:{lat:this.props.newPlaceLat,lng:this.props.newPlaceLng}}};return this.props.onAddRestaurant(t)}},{key:"render",value:function(){var e=this;return l.a.createElement(j.a,{visible:this.props.visible,width:"400",height:"300",effect:"fadeInLeft",onClickAway:function(){return e.props.closeModal()}},l.a.createElement("div",null,l.a.createElement("h3",null,"Add/Edit Restaurant"),l.a.createElement("form",{onSubmit:this.submitForm},l.a.createElement("div",null,l.a.createElement("input",{type:"text",placeholder:"Name...",name:"name",value:this.state.name,onChange:this.handleChange})),l.a.createElement("div",null,l.a.createElement("label",null,"Rating:"),l.a.createElement("select",{name:"rating",value:this.state.rating,onChange:this.handleChange},l.a.createElement("option",{value:"0"},"0"),l.a.createElement("option",{value:"1"},"1"),l.a.createElement("option",{value:"2"},"2"),l.a.createElement("option",{value:"3"},"3"),l.a.createElement("option",{value:"4"},"4"),l.a.createElement("option",{value:"5"},"5"))),l.a.createElement("div",null,l.a.createElement("input",{type:"text",placeholder:"Address...",name:"address",value:this.state.address,onChange:this.handleChange})),l.a.createElement("button",{type:"submit",className:"submit-button"},"submit"))))}}]),a}(n.Component),w=a(12),C=a.n(w);var S=function(e){var t=e.firstRating,a=e.setFirstRating,n=e.secondRating,r=e.setSecondRating;return l.a.createElement("div",{className:"filter-ratings"},l.a.createElement("form",null,l.a.createElement("label",null,"Choose by Rating:"),l.a.createElement("select",{className:"rating-one",onChange:function(e){a(e.target.value)},value:t},l.a.createElement("option",{value:"0"},"0"),l.a.createElement("option",{value:"1"},"1"),l.a.createElement("option",{value:"2"},"2"),l.a.createElement("option",{value:"3"},"3"),l.a.createElement("option",{value:"4"},"4"),l.a.createElement("option",{value:"5"},"5")),"to",l.a.createElement("select",{className:"rating-two",onChange:function(e){r(e.target.value)},value:n},l.a.createElement("option",{value:"0"},"0"),l.a.createElement("option",{value:"1"},"1"),l.a.createElement("option",{value:"2"},"2"),l.a.createElement("option",{value:"3"},"3"),l.a.createElement("option",{value:"4"},"4"),l.a.createElement("option",{value:"5"},"5"))))},T=function(e){Object(v.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(y.a)(this,a),(n=t.call(this,e)).state={userReview:""},n.handleChange=n.handleChange.bind(Object(f.a)(n)),n.submitForm=n.submitForm.bind(Object(f.a)(n)),n}return Object(b.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(d.a)({userReview:e.target.value},e.target.name,e.target.value)),this.props.setInfoWindowName(e.target.name),console.log(e.target.name),console.log(e.target.value)}},{key:"submitForm",value:function(e){e.preventDefault(),this.setState({userReview:""}),this.props.setQuery(this.state.userReview),console.log("submitted")}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("form",{onSubmit:this.submitForm},l.a.createElement("textarea",{style:{padding:"1rem",borderRadius:"3px"},value:this.state.userReview,name:this.props.name,placeholder:"Add a Review...",onChange:this.handleChange}),l.a.createElement("button",{className:"submit-button",type:"submit"},"submit")))}}]),a}(n.Component),k=a(42);function R(e){var t=e.nearbyRestaurants,a=e.setQuery,n=e.setInfoWindowName;return l.a.createElement("div",{className:"restaurant-list"},l.a.createElement("ul",null,l.a.createElement("li",{className:"list-header"},"Restaurants"),t.map((function(e){return l.a.createElement("div",{key:Object(k.a)()},l.a.createElement("li",null,l.a.createElement("div",{style:{fontSize:"1.3rem",fontWeight:"bold"}},e.name),l.a.createElement("br",null),l.a.createElement("div",{style:{color:"gold"}},e.rating,l.a.createElement("span",null,l.a.createElement(C.a,{rating:e.rating,starDimension:"20px",starSpacing:"1px",starRatedColor:"gold",numberOfStars:5,name:"rating"}))),l.a.createElement("br",null),l.a.createElement("div",{style:{fontStyle:"italic"}},e.vicinity),l.a.createElement(T,{key:e.name,name:e.name,setQuery:a,setInfoWindowName:n})))}))))}var x=a(21),N=a.n(x),F=a(22),L=a.n(F),z="AIzaSyDyb_aKsyq5CtMO83PKMbTVL79kCLTxqc8",A=["places"],D={height:"100vh",width:"100vw"},I={styles:[{featureType:"administrative",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{lightness:"-45"}]},{featureType:"administrative.land_parcel",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"landscape",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"##000000"},{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#969696"},{visibility:"off"}]},{featureType:"road",elementType:"labels.text",stylers:[{hue:"#ff0000"},{saturation:"32"}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{saturation:"47"},{color:"#c7c7c7"}]},{featureType:"road.local",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"},{lightness:"-62"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]}],disableDefaultUI:!0,zoomControl:!0},M="https://maps.googleapis.com/maps/api/place/nearbysearch/json?type=restaurant&keyword=restaurant&key="+z;function P(){var e=Object(g.d)({googleMapsApiKey:z,libraries:A}),t=e.isLoaded,a=e.loadError,r=Object(n.useState)({lat:0,lng:0}),i=Object(p.a)(r,2),c=i[0],d=i[1],y=Object(n.useState)(!1),b=Object(p.a)(y,2),f=b[0],v=b[1],h=Object(n.useState)(null),E=Object(p.a)(h,2),j=E[0],w=E[1],T=Object(n.useState)({}),x=Object(p.a)(T,2),F=(x[0],x[1]),P=Object(n.useState)(null),W=Object(p.a)(P,2),Q=W[0],B=W[1],K=Object(n.useState)([]),q=Object(p.a)(K,2),J=q[0],_=q[1],U=Object(n.useState)(null),V=Object(p.a)(U,2),G=V[0],H=V[1],X=Object(n.useState)(0),Y=Object(p.a)(X,2),Z=Y[0],$=Y[1],ee=Object(n.useState)(5),te=Object(p.a)(ee,2),ae=te[0],ne=te[1],le=Object(n.useState)(""),re=Object(p.a)(le,2),ie=re[0],oe=re[1],se=Object(n.useState)(""),ce=Object(p.a)(se,2),ue=ce[0],me=ce[1],pe=['"Food/service was great!"','"This place was pretty good"','"We had an okay experience"','"Did not have a great experience"'],ge=function(){v(!1),w(null)};function de(e,t,a){return ye.apply(this,arguments)}function ye(){return(ye=Object(m.a)(u.a.mark((function e(t,a,n){var l,r,i,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://cors-anywhere.herokuapp.com/",l=M+"&location="+t+","+a+"&radius="+n,e.next=4,fetch("https://cors-anywhere.herokuapp.com/"+l);case 4:return r=e.sent,e.next=7,r.json();case 7:i=e.sent,s=i.results&&i.results.filter((function(e){return e.rating>=Z&&e.rating<=ae?e:null})),_((function(e){return[].concat(Object(o.a)(e),Object(o.a)(s))}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(t,a,n){var l,r,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://cors-anywhere.herokuapp.com/",l=M+"&location="+t+","+a+"&radius="+n,e.next=4,fetch("https://cors-anywhere.herokuapp.com/"+l);case 4:return r=e.sent,e.next=7,r.json();case 7:i=e.sent,o=i.results&&i.results.filter((function(e){return e.rating>=Z&&e.rating<=ae?e:null})),_(o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(t,a,n){e.apply(this,arguments)}(c.lat,c.lng,3047)}),[Z,ae]),navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){d((function(t){return Object(s.a)(Object(s.a)({},t),{},{lat:e.coords.latitude,lng:e.coords.longitude})}))})):console.log("error loading map"),a?"Error loading map":t?l.a.createElement("div",{className:"App"},l.a.createElement("h1",null,"Restaurant Review"),l.a.createElement(g.a,{mapContainerStyle:D,center:c,options:I,onClick:function(e){w({lat:e.latLng.lat(),lng:e.latLng.lng()}),v(!0)},zoom:13,onLoad:function(e){var t=e.getBounds(),a=e.getCenter();B(e),F(t),de(a.lat(),a.lng(),3047)},onDragEnd:function(){Q.getBounds();var e=Q.getCenter();de(e.lat(),e.lng(),3047)}},l.a.createElement(g.c,{position:{lat:c.lat,lng:c.lng},icon:{url:N.a,scaledSize:new window.google.maps.Size(30,30)}}),j&&l.a.createElement(O,{visible:f,newPlaceLat:j.lat,newPlaceLng:j.lng,onAddRestaurant:function(e){_([e].concat(Object(o.a)(J))),ge()},closeModal:function(){ge()}}),J.map((function(e){return l.a.createElement(g.c,{key:Object(k.a)(),position:{lat:e.geometry.location.lat,lng:e.geometry.location.lng},onClick:function(){H(e)},icon:{url:L.a,scaledSize:new window.google.maps.Size(40,40)}})})),G?l.a.createElement(g.b,{position:{lat:G.geometry.location.lat,lng:G.geometry.location.lng},onCloseClick:function(){H(null)}},l.a.createElement("div",null,l.a.createElement("h4",null,G.name),l.a.createElement("img",{src:"https://maps.googleapis.com/maps/api/streetview?size=160x80&location=".concat(G.geometry.location.lat,",").concat(G.geometry.location.lng,"&fov=80&heading=70&pitch=0&key=").concat(z),alt:"restaurant-street-view"}),l.a.createElement("div",{style:{color:"gold"}},G.rating," ",l.a.createElement("span",null," ",l.a.createElement(C.a,{rating:G.rating,starDimension:"18px",starSpacing:"1px",starRatedColor:"gold",numberOfStars:5}))),l.a.createElement("div",null,l.a.createElement("div",null,ue===G.name?'"'.concat(ie,'"'):null),G.rating>=4?pe[0]:G.rating>=3.5?pe[1]:G.rating>=3?pe[2]:pe[3]))):null,l.a.createElement(S,{firstRating:Z,setFirstRating:$,secondRating:ae,setSecondRating:ne}),l.a.createElement(R,{key:Object(k.a)(),nearbyRestaurants:J,setQuery:oe,setInfoWindowName:me}))):"Loading..."}i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(P,null)),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.108c146a.chunk.js.map